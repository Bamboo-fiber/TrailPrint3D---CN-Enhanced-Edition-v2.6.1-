# 🏔️ TrailPrint3D v2.5.1 - CN Enhanced Edition

## 🌟 Special Tribute to the Original Author

This project is a customized, fully localized (Chinese), and enhanced fork based on the incredible work of **EmGi** (TrailPrint3D v2.5).
Huge thanks to EmGi for building this amazing tool!
As a secondary developer (Bamboo-fiber), I have translated the entire UI into Chinese and added new features including  a **Circle Shape** base plate.

---

## 💻 System Requirements

- **Blender Version:** >= 4.5.0 (Recommended: 4.5.2+)

- **Python Version:** >= 3.11 (Uses Blender's embedded Python environment)

- **Internet Connection:** Required for fetching elevation and OpenStreetMap (OSM) data.

- **Required Python Packages:**`requests` (usually included/installable in Blender).

## 🚀 Installation

1. Download the `TrailPrint3D_2_5_1_CN.py` file.

2. Open Blender, go to **Edit > Preferences > Add-ons**.

3. Click **Install...** and select the downloaded `.py` file.

4. Check the box to enable the add-on: `Object: TrailPrint3D`.

5. You can find the add-on panel in the 3D Viewport's right sidebar (press `N`), under the **TrailPrint3D** tab.

## ✨ What's New in v2.5.1 (Enhanced Edition)

- **Full Chinese Localization:** The entire UI has been translated into Chinese for better accessibility for Chinese users.
- **New Circle Base Shape:** Added a "Circle" option to the map shapes, allowing you to generate elegant round terrain models.

## 📖 Core Features

- **GPS Track Import:** Supports `.gpx` and `.igc` files.

- **Multiple Base Shapes:** Choose from Hexagon, Square, Circle, or custom text-embedded base plates, with customizable physical dimensions (default: 100mm).

- **Geographical Elements (OSM):** Automatically generates physical layers for Water (lakes/rivers), Forests and Cities.

- **Print-Ready Export:** Automatically exports to STL (for single-color printing) or OBJ (for multi-color/Bambu Lab printing).

- **Mountain Coloring:** Automatically assigns different materials to mountain tops based on set altitude thresholds (for snow-capped effects).

- **Hardware Assembly Prep:** Automatically generate magnet holes and dovetail joints for snapping multiple map tiles together (ideal for fridge magnets or large maps).

- **Custom Text Engraving:** Supports system fonts (default: Microsoft YaHei `msyhbd.ttc`) to engrave track distance, elevation gain, and duration on the model.

---

## 📜 License & Copyright

Original code developed by **EmGi**. Localization and enhancements by **Bamboo-fiber**. This project follows the open-source license restrictions of the original author.

- **License Type:** Creative Commons Attribution-NonCommercial 4.0 International (CC BY-NC 4.0)

- **Allowed:** Share (copy, distribute), Adapt (remix, transform, build upon), non-commercial use.

- **Restricted:** Commercial use (including selling the add-on, selling models generated by this add-on, or using it for commercial services) without written permission from the original authors.

- **Required:** Give appropriate attribution to both the original author (EmGi) and the modifier (Bamboo-fiber).

### Modification Notice

This project is a modified fork of EmGi's TrailPrint3D (v2.5). Modifications made by Bamboo-fiber include:

1. Full Chinese Interface Translation
2. Added new "Circle" base shape

### Data Source Attributions

All data used to generate terrain and maps comes from the following amazing open-source projects. Thank you to all contributors:

- **Elevation data:** Provided by the Mapzen Terrain Tiles project. © Mapzen. Data hosted on AWS as part of the AWS Public Dataset Program. [License](https://github.com/tilezen/joerd/blob/master/docs/attribution.md)

- **Elevation data:** From OpenTopoData, using the SRTM and other datasets.

- **Elevation data:** From Open-Elevation, based on Shuttle Radar Topography Mission (SRTM) data © NASA.

- **Water & Map data:** © OpenStreetMap contributors.

- **Terrain data:** From Mapzen, based on data © OpenStreetMap contributors, NASA SRTM, and USGS.



# 🏔️ TrailPrint3D (轨迹3D打印) v2.5.1 - 中文增强版

## 🌟 特别致敬原作者

本项目是基于原作者 **EmGi** 的卓越工作（TrailPrint3D v2.5）进行的深度定制版。在此向 EmGi 表达最崇高的敬意！
作为二次开发者（竹纤维），我在原版 v2.5 的基础上完成了**界面的全量汉化**，并为其新增了全新的**“圆形底盘 (Circle Shape)”**选项。

---

## 💻 环境要求

- **Blender 版本:** >= 4.5.0 (推荐: 4.5.2 及以上)

- **Python 版本:** >= 3.11 (使用 Blender 内置的 Python 环境)

- **网络连接:** 必须，用于通过 API 获取真实高程数据和 OpenStreetMap (OSM) 地理数据。

- **依赖库:**`requests` (Blender 通常自带或可自动调用)。

## 🚀 安装指南

1. 下载 `TrailPrint3D_2_5_1_CN.py` 脚本文件。

2. 打开 Blender，进入 **编辑 (Edit) > 偏好设置 (Preferences) > 插件 (Add-ons)**。

3. 点击 **安装... (Install...)** 并选择下载的 `.py` 文件。

4. 勾选启用插件：`Object: 轨迹3D打印 (TrailPrint3D)`。

5. 在 3D 视图界面按 `N` 键调出侧边栏，在 **TrailPrint3D** 选项卡中即可使用。

## ✨ 本汉化定制版新增功能 (v2.5.1)

- **全量汉化支持:** 插件面板的全部参数、按钮与提示均已深度汉化，便于国内用户使用。
- **全新圆形底盘 (Circle Shape):** 突破了原版仅支持六边形和正方形的限制，新增“圆形”地图生成选项，让成品更具艺术感。

## 📖 核心功能详解

- **GPS 轨迹导入:** 支持 `.gpx` 和 `.igc` 格式文件，轻松导入个人徒步、骑行等轨迹数据。

- **多种底座形状:** 提供六边形、正方形、圆形，以及带有内置/外置文字铭牌的六边形变体，并支持自定义物理尺寸（默认 100mm）。

- **地理元素提取 (OSM):** 自动抓取并生成水体（湖泊/河流）、森林和城市的物理 3D 图层，还原真实地理风貌。

- **3D 打印一键导出:** 自动导出为 STL（适用于单色打印）或 OBJ（保留材质，适用于拓竹等多色 3D 打印机），无需额外处理。

- **高海拔上色 (Mountain Coloring):** 根据设定的高度阈值，自动为山顶分配不同的材质（生成雪顶效果），让模型更具层次感。

- **五金件拼装支持:** 自动生成底座磁铁孔和侧边燕尾榫，方便拼接大型地图或制作冰箱贴等实用摆件。

- **自定义铭牌:** 支持调用本地电脑字体（默认使用微软雅黑 `msyhbd.ttc`），在模型上雕刻轨迹里程、爬升高度和耗时等专属数据。

---

## 📜 协议与版权声明

本插件的核心代码由 **EmGi** 编写，二次开发与汉化由 **竹纤维** 完成。本项目遵循原作者的开源协议限制。

- **许可类型:** 知识共享 署名-非商业性使用 4.0 国际许可协议 (CC BY-NC 4.0)

- **允许:** 分享（复制、发行）、演绎（修改、转换、建构）、非商业性使用。

- **限制:** 未经原作者书面许可，不得用于任何商业目的（包括但不限于售卖插件、售卖用此插件生成的模型盈利）。

- **要求:** 使用或分发本作品时，必须给出适当的署名，同时标注原作者 EmGi 和修改者竹纤维。

### 修改声明

本项目是基于 EmGi 原版 TrailPrint3D (v2.5) 的修改衍生版。竹纤维（Bamboo-fiber）进行的修改内容包括：

1. 全量中文界面汉化
2. 新增圆形底盘功能

### 数据来源致谢

生成地形与地图所需的数据均来自以下伟大的开源项目，特此致谢：

- **高程数据:** 由 Mapzen Terrain Tiles 项目提供。© Mapzen。数据托管于 AWS，作为 AWS 公共数据集项目的一部分。[协议链接](https://github.com/tilezen/joerd/blob/master/docs/attribution.md)

- **高程数据:** 来自 OpenTopoData，使用 SRTM 及其他数据集。

- **高程数据:** 来自 Open-Elevation，基于航天飞机雷达地形测绘任务 (SRTM) 数据 © NASA。

- **水域及地图数据:** © OpenStreetMap 贡献者。

- **地形数据:** 来自 Mapzen，基于 © OpenStreetMap 贡献者、NASA SRTM 及美国地质调查局（USGS）的数据。
